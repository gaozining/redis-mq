import{k as S,p as d,q as F,s as z,P as H,Q as J,R as K,S as O,v as Q,x as j,o as p,b as V,e,w as a,d as g,f as x,F as B,A as w,B as f,C as G,D as W,K as X,L as Y,M as Z,I as ee,J as le,N as C,H as ae}from"./index.c6beb236.js";import{e as te}from"./message.a1197f4b.js";/* empty css                 *//* empty css                  *//* empty css                     *//* empty css               */const oe={style:{display:"inline-block"}},ne=g("p",{style:{"margin-left":"10px"}},null,-1),ue={class:"dialog-footer"},se={class:"queue-table"},fe=S({__name:"Consumer",setup(re){const{proxy:u}=W();let D=d([{roleCode:"",roleName:"",id:null}]),i=d([{clientId:"",applicationName:""}]),s=d(!1),E=d("add");const o=F({username:"",email:"",phone:"",nickName:"",roleIds:[]}),N=F([{prop:"applicationName",label:"\u5E94\u7528"},{prop:"clientId",label:"\u6D88\u8D39\u5BA2\u6237\u7AEF"}]),b=F({page:1,size:10,total:0,keyword:"",beginTime:null,endTime:null});d([]);const U=()=>{u.$refs.userForm.validate(async n=>{n&&(s.value=!1,E.value==="add"?h(o):q(o),te.success(),u.$refs.userForm.resetFields())})},I=n=>{b.page=n,m()},k=()=>{s.value=!1,u.$refs.userForm.resetFields()};z(()=>{m()});const m=async n=>{let t=await u.$api.mq.consumerList();console.log(i),i.value=t,console.log(i)},h=async n=>{await u.$api.user.saveUser(n),m()},q=async n=>{await u.$api.user.updateUser(n),m()};return(n,t)=>{const c=X,r=Y,_=H,y=J,A=K,L=O,T=Z,v=ee,$=Q,P=ae,M=le,R=j;return p(),V(B,null,[e($,{class:"fk-dialog",modelValue:f(s),"onUpdate:modelValue":t[5]||(t[5]=l=>G(s)?s.value=l:s=l),title:f(E)=="add"?"\u65B0\u589E\u7528\u6237":"\u7F16\u8F91\u7528\u6237",style:{width:"600px"},"before-close":k},{footer:a(()=>[g("span",ue,[e(v,{onClick:k},{default:a(()=>[x("\u53D6\u6D88")]),_:1}),e(v,{type:"primary",onClick:U},{default:a(()=>[x(" \u4FDD\u5B58 ")]),_:1})])]),default:a(()=>[e(T,{inline:!0,model:o,ref:"userForm"},{default:a(()=>[e(y,null,{default:a(()=>[e(_,{span:12},{default:a(()=>[e(r,{label:"\u7528\u6237\u540D",prop:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5185\u5BB9"}]},{default:a(()=>[e(c,{modelValue:o.username,"onUpdate:modelValue":t[0]||(t[0]=l=>o.username=l)},null,8,["modelValue"])]),_:1})]),_:1}),e(_,{span:12},{default:a(()=>[e(r,{label:"\u90AE\u7BB1",prop:"email"},{default:a(()=>[e(c,{modelValue:o.email,"onUpdate:modelValue":t[1]||(t[1]=l=>o.email=l)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(y,null,{default:a(()=>[e(_,{span:12},{default:a(()=>[e(r,{label:"\u624B\u673A\u53F7",prop:"phone",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5185\u5BB9"}]},{default:a(()=>[e(c,{modelValue:o.phone,"onUpdate:modelValue":t[2]||(t[2]=l=>o.phone=l)},null,8,["modelValue"])]),_:1})]),_:1}),e(_,{span:12},{default:a(()=>[e(r,{label:"\u6635\u79F0",prop:"nickName"},{default:a(()=>[e(c,{modelValue:o.nickName,"onUpdate:modelValue":t[3]||(t[3]=l=>o.nickName=l)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(y,null,{default:a(()=>[e(r,{label:"\u89D2\u8272",prop:"roleIds"},{default:a(()=>[g("div",oe,[ne,e(L,{modelValue:o.roleIds,"onUpdate:modelValue":t[4]||(t[4]=l=>o.roleIds=l),multiple:"",placeholder:"\u8BF7\u9009\u62E9\u89D2\u8272",style:{width:"240px"},filterable:""},{default:a(()=>[(p(!0),V(B,null,w(f(D),l=>(p(),C(A,{key:l.id,label:l.roleName,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),g("div",se,[e(M,{data:f(i),style:{width:"100%"},height:"700px",border:"","header-cell-style":{background:"#fff !important",color:"#000 !important","text-align":"center","font-size":"15px","font-weight":"700"},"row-cell-style":{"text-align":"center"},"cell-style":{"text-align":"center"}},{default:a(()=>[(p(!0),V(B,null,w(N,l=>(p(),C(P,{key:l.prop,label:l.label,prop:l.prop},null,8,["label","prop"]))),128))]),_:1},8,["data"]),e(R,{background:"",layout:"prev, pager, next",total:b.total,"current-page":b.page,"onUpdate:currentPage":I},null,8,["total","current-page"])])],64)}}});export{fe as default};
